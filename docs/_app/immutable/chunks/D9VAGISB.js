import{p as Me,B as xe,k as x,m as P,g as t,l as we,a as ke,i as Pe,f as N,j as i,P as Se,z as L,n as s,s as d,D as ne,v as ve,y as ce,u as v,t as Y,q as h,e as Q,h as Ce,x as Te,F as J,o as K,O as q,Q as de}from"./DVbY896I.js";var Re=N('<button><div class="legend-dot svelte-u23eb0"></div> <div class="legend-text svelte-u23eb0"><div class="legend-name svelte-u23eb0"> </div> <div class="legend-count svelte-u23eb0"> </div></div></button>'),$e=N('<div class="commit-item svelte-u23eb0"><div class="commit-dot svelte-u23eb0"></div> <div class="commit-content svelte-u23eb0"><div class="commit-header svelte-u23eb0"><span class="commit-type svelte-u23eb0"> </span> <span class="commit-time svelte-u23eb0"> </span></div> <div class="commit-message svelte-u23eb0"> </div> <div class="commit-footer svelte-u23eb0"><span class="commit-branch svelte-u23eb0"> </span> <span class="commit-stats svelte-u23eb0"><span style="color: var(--green)"> </span> <span style="color: var(--red)"> </span></span></div></div></div>'),ze=N('<div class="git-graph-widget svelte-u23eb0"><div class="widget-header svelte-u23eb0"><div class="title-row svelte-u23eb0"><!> <h2 class="title svelte-u23eb0">Repository Activity</h2></div> <div class="stats-grid svelte-u23eb0"><div class="stat-card svelte-u23eb0"><div class="stat-value svelte-u23eb0"> </div> <div class="stat-label svelte-u23eb0">Commits</div></div> <div class="stat-card svelte-u23eb0"><div class="stat-value svelte-u23eb0"> </div> <div class="stat-label svelte-u23eb0">Branches</div></div> <div class="stat-card svelte-u23eb0"><div class="stat-value svelte-u23eb0"> </div> <div class="stat-label svelte-u23eb0">Reviews</div></div></div></div> <div class="canvas-container svelte-u23eb0"><canvas class="graph-canvas svelte-u23eb0"></canvas> <div class="legend-container svelte-u23eb0"></div></div> <div class="timeline-section svelte-u23eb0"><h3 class="section-title svelte-u23eb0">Recent Activity</h3> <div class="commits-scroll svelte-u23eb0"></div></div></div>');function We(me,ue){Me(ue,!1);let z=P(),A=P(),V=P(null),X=P("main"),S=P(0),u=P(0),w=P(0),k={branches:[{name:"main",color:"#89b4fa",commits:45,merges:8},{name:"develop",color:"#a6e3a1",commits:67,merges:12},{name:"feature/auth",color:"#f9e2af",commits:23,merges:3},{name:"hotfix/security",color:"#f38ba8",commits:8,merges:2}],commits:he(),stats:{totalCommits:143,activeBranches:4,mergeConflicts:3,codeReviews:28}};function he(){const l=[],e=["main","develop","feature/auth","hotfix/security"],a=Date.now();for(let r=0;r<100;r++){const c=Math.floor(Math.random()*90),n=a-c*24*60*60*1e3;l.push({id:`commit-${r}`,branch:e[Math.floor(Math.random()*e.length)],timestamp:n,message:fe(),additions:Math.floor(Math.random()*500),deletions:Math.floor(Math.random()*200),author:["Alice","Bob","Charlie","Diana"][Math.floor(Math.random()*4)],type:["feat","fix","docs","refactor"][Math.floor(Math.random()*4)]})}return l.sort((r,c)=>c.timestamp-r.timestamp)}function fe(){const l=["Add user authentication","Fix memory leak in cache","Update dependencies","Refactor API endpoints","Implement dark mode","Optimize database queries","Add error handling","Update documentation","Fix security vulnerability","Improve performance"];return l[Math.floor(Math.random()*l.length)]}xe(()=>{let l=0;const e=()=>{l++,x(S,Math.min(l/60,1)),l<60&&requestAnimationFrame(e)};e();const a=()=>{t(A)&&(x(u,t(A).offsetWidth),x(w,t(A).offsetHeight))};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}});function ge(l){const e=Math.floor((Date.now()-l)/1e3),a={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[r,c]of Object.entries(a)){const n=Math.floor(e/c);if(n>=1)return`${n} ${r}${n>1?"s":""} ago`}return"just now"}we(()=>(t(z),t(S),t(u),t(w)),()=>{if(t(z)&&t(S)>0&&t(u)>0){const l=t(z),e=l.getContext("2d"),a=window.devicePixelRatio||1;l.width=t(u)*a,l.height=t(w)*a,l.style.width=t(u)+"px",l.style.height=t(w)+"px",e.scale(a,a);const r=t(u)<640,c=t(u)>=640&&t(u)<1024,n=r?30:c?40:50,C=r?50:c?60:80,M=r?60:80,g=r?4:6,U=r?6:8;e.fillStyle="#11111b",e.fillRect(0,0,t(u),t(w)),e.strokeStyle="#1e1e2e",e.lineWidth=1;const b=r?30:40;for(let o=0;o<t(w)/b;o++)e.beginPath(),e.moveTo(0,o*b),e.lineTo(t(u),o*b),e.stroke();for(let o=0;o<t(u)/b;o++)e.beginPath(),e.moveTo(o*b,0),e.lineTo(o*b,t(w)),e.stroke();const W=o=>M+o*C,p=t(u)-n*2;k.branches.forEach((o,_)=>{const m=W(_),T=r?_*3:_*5;e.strokeStyle="rgba(0, 0, 0, 0.3)",e.lineWidth=g+2,e.beginPath(),e.moveTo(n+T,m+T),e.lineTo(n+p*t(S)+T,m+T),e.stroke();const R=e.createLinearGradient(n,m,n+p,m);R.addColorStop(0,o.color),R.addColorStop(1,o.color+"40"),e.strokeStyle=R,e.lineWidth=g,e.shadowColor=o.color,e.shadowBlur=r?10:15,e.beginPath(),e.moveTo(n,m),e.lineTo(n+p*t(S),m),e.stroke(),e.shadowBlur=0;const $=Math.floor(o.commits*t(S)),H=r?Math.min($,15):$;for(let f=0;f<H;f++){const y=n+f/o.commits*p,B=U+Math.sin(Date.now()*.002+f)*2;e.fillStyle=o.color+"40",e.beginPath(),e.arc(y,m,B+(r?5:8),0,Math.PI*2),e.fill(),e.fillStyle=o.color,e.beginPath(),e.arc(y,m,B,0,Math.PI*2),e.fill(),e.fillStyle="rgba(255, 255, 255, 0.5)",e.beginPath(),e.arc(y-2,m-2,B/3,0,Math.PI*2),e.fill()}const I=r?Math.min(o.merges,2):o.merges;for(let f=0;f<I;f++){const y=n+(f+1)/(o.merges+1)*p;if(_>0){e.strokeStyle=o.color,e.lineWidth=2,e.setLineDash([5,5]),e.beginPath(),e.moveTo(y,m),e.lineTo(y,W(_-1)),e.stroke(),e.setLineDash([]);const B=r?8:10;e.fillStyle=o.color,e.strokeStyle="#1e1e2e",e.lineWidth=3,e.beginPath(),e.arc(y,W(_-1),B,0,Math.PI*2),e.fill(),e.stroke()}}})}}),ke(),Pe();var F=ze(),G=i(F),j=i(G),be=i(j);Se(be,{size:20,class:"title-icon"}),L(2),s(j);var Z=d(j,2),E=i(Z),ee=i(E),pe=i(ee,!0);s(ee),L(2),s(E);var O=d(E,2),te=i(O),_e=i(te,!0);s(te),L(2),s(O);var se=d(O,2),ae=i(se),ye=i(ae,!0);s(ae),L(2),s(se),s(Z),s(G);var D=d(G,2),ie=i(D);ne(ie,l=>x(z,l),()=>t(z));var oe=d(ie,2);ve(oe,5,()=>v(()=>k.branches),ce,(l,e)=>{var a=Re();let r;var c=d(i(a),2),n=i(c),C=i(n,!0);s(n);var M=d(n,2),g=i(M,!0);s(M),s(c),s(a),Y(()=>{r=Te(a,1,"legend-item svelte-u23eb0",null,r,{active:t(X)===t(e).name}),J(a,`--branch-color: ${t(e),v(()=>t(e).color)??""}`),h(C,(t(e),v(()=>t(e).name))),h(g,(t(e),v(()=>t(e).commits)))}),K("click",a,()=>x(X,t(e).name)),Q(l,a)}),s(oe),s(D),ne(D,l=>x(A,l),()=>t(A));var le=d(D,2),re=d(i(le),2);ve(re,5,()=>v(()=>k.commits.slice(0,8)),ce,(l,e)=>{const a=de(()=>(t(e),v(()=>k.branches.find(y=>y.name===t(e).branch)))),r=de(()=>(t(e),v(()=>ge(t(e).timestamp))));var c=$e(),n=i(c),C=d(n,2),M=i(C),g=i(M),U=i(g,!0);s(g);var b=d(g,2),W=i(b,!0);s(b),s(M);var p=d(M,2),o=i(p,!0);s(p);var _=d(p,2),m=i(_),T=i(m,!0);s(m);var R=d(m,2),$=i(R),H=i($);s($);var I=d($,2),f=i(I);s(I),s(R),s(_),s(C),s(c),Y(()=>{J(n,`background: ${q(t(a)),v(()=>t(a)?.color)??""}; box-shadow: 0 0 8px ${q(t(a)),v(()=>t(a)?.color)??""}`),J(g,`background: ${q(t(a)),v(()=>t(a)?.color)??""}20; color: ${q(t(a)),v(()=>t(a)?.color)??""}`),h(U,(t(e),v(()=>t(e).type))),h(W,t(r)),h(o,(t(e),v(()=>t(e).message))),h(T,(t(e),v(()=>t(e).branch))),h(H,`+${t(e),v(()=>t(e).additions)??""}`),h(f,`-${t(e),v(()=>t(e).deletions)??""}`)}),K("mouseenter",c,()=>x(V,t(e))),K("mouseleave",c,()=>x(V,null)),Q(l,c)}),s(re),s(le),s(F),Y(()=>{h(pe,v(()=>k.stats.totalCommits)),h(_e,v(()=>k.stats.activeBranches)),h(ye,v(()=>k.stats.codeReviews))}),Q(me,F),Ce()}export{We as default};
